{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Anthony/dyad-apps/TK%20Messaging/src/app/api/admin/settings/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\r\nimport { writeFile, readFile } from \"fs/promises\";\r\nimport { join } from \"path\";\r\n\r\nconst SETTINGS_FILE = join(process.cwd(), \"data\", \"admin-settings.json\");\r\n\r\nexport async function GET() {\r\n  try {\r\n    const data = await readFile(SETTINGS_FILE, \"utf8\");\r\n    const settings = JSON.parse(data);\r\n    return NextResponse.json(settings);\r\n  } catch (error) {\r\n    // Return default settings if file doesn't exist\r\n    const defaultSettings = {\r\n      twilioAccountSid: \"\",\r\n      twilioAuthToken: \"\",\r\n      twilioPhoneNumber: \"\",\r\n      webhookUrl: \"\"\r\n    };\r\n    return NextResponse.json(defaultSettings);\r\n  }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const settings = await request.json();\r\n    \r\n    // Save to file (no validation required - allow partial settings)\r\n    await writeFile(SETTINGS_FILE, JSON.stringify(settings, null, 2));\r\n    \r\n    return NextResponse.json({ success: true, settings });\r\n  } catch (error) {\r\n    console.error(\"Error saving settings:\", error);\r\n    return NextResponse.json(\r\n      { error: \"Failed to save settings\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAEA,MAAM,gBAAgB,IAAA,yGAAI,EAAC,QAAQ,GAAG,IAAI,QAAQ;AAE3C,eAAe;IACpB,IAAI;QACF,MAAM,OAAO,MAAM,IAAA,iIAAQ,EAAC,eAAe;QAC3C,MAAM,WAAW,KAAK,KAAK,CAAC;QAC5B,OAAO,+QAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,gDAAgD;QAChD,MAAM,kBAAkB;YACtB,kBAAkB;YAClB,iBAAiB;YACjB,mBAAmB;YACnB,YAAY;QACd;QACA,OAAO,+QAAY,CAAC,IAAI,CAAC;IAC3B;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,WAAW,MAAM,QAAQ,IAAI;QAEnC,iEAAiE;QACjE,MAAM,IAAA,kIAAS,EAAC,eAAe,KAAK,SAAS,CAAC,UAAU,MAAM;QAE9D,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM;QAAS;IACrD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,+QAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA0B,GACnC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}